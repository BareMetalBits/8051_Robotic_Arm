A51 MACRO ASSEMBLER  ARM                                                                  08/02/2025 14:00:18 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\arm.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE arm.asm SET(SMALL) DEBUG PRINT(.\Listings\arm.lst) OBJECT(.\Objects\arm
                      .obj) EP

LOC  OBJ            LINE     SOURCE

0000                   1                 ORG     0000H
0000 020026            2                 LJMP    INIT
                       3     
0023                   4                 ORG     0023H       
0023 020043            5                 LJMP    SERIAL_ISR
0026                   6     INIT:
0026 758170            7                 MOV     SP, #70H
0029 758921            8                 MOV     TMOD, #21H   
002C 758DFD            9                 MOV     TH1, #-3     
002F 759850           10                 MOV     SCON, #50H   
0032 D28E             11                 SETB    TR1
0034 D2AF             12                 SETB    EA           
0036 D2AC             13                 SETB    ES           
0038 759000           14                 MOV     P1, #00H
003B C2A0             15                 CLR     P2.0
003D C2A1             16                 CLR     P2.1
003F C2A2             17                 CLR     P2.2
                      18     
0041                  19     MAIN:
0041 80FE             20                 SJMP    MAIN       
0043                  21     SERIAL_ISR:
0043 C298             22                 CLR     RI
0045 E599             23                 MOV     A, SBUF
0047 B44C03           24                 CJNE    A, #'L', C_R
004A 1183             25                 ACALL   BASE_LEFT
004C 32               26                 RETI
                      27     
004D B45203           28     C_R:        CJNE    A, #'R', C_E
0050 1198             29                 ACALL   BASE_RIGHT
0052 32               30                 RETI
                      31     
0053 B44507           32     C_E:        CJNE    A, #'E', C_W
0056 D2A0             33                 SETB    P2.0
0058 1171             34                 ACALL   SERVO_PULSE
005A C2A0             35                 CLR     P2.0
005C 32               36                 RETI
                      37     
005D B45707           38     C_W:        CJNE    A, #'W', C_G
0060 D2A1             39                 SETB    P2.1
0062 1171             40                 ACALL   SERVO_PULSE
0064 C2A1             41                 CLR     P2.1
0066 32               42                 RETI
                      43     
0067 B44706           44     C_G:        CJNE    A, #'G', RET_END
006A D2A2             45                 SETB    P2.2
006C 1171             46                 ACALL   SERVO_PULSE
006E C2A2             47                 CLR     P2.2
                      48     
0070 32               49     RET_END:    RETI
0071                  50     SERVO_PULSE:
0071 C28D             51                 CLR     TF0
0073 758CFC           52                 MOV     TH0, #0FCh   
0076 758A66           53                 MOV     TL0, #066h
0079 D28C             54                 SETB    TR0
007B 308DFD           55     WAIT_T0:    JNB     TF0, WAIT_T0
007E C28C             56                 CLR     TR0
0080 C28D             57                 CLR     TF0
A51 MACRO ASSEMBLER  ARM                                                                  08/02/2025 14:00:18 PAGE     2

0082 22               58                 RET
0083                  59     BASE_LEFT:
0083 759009           60                 MOV     P1, #09H
0086 11AD             61                 ACALL   DELAY
0088 75900C           62                 MOV     P1, #0CH
008B 11AD             63                 ACALL   DELAY
008D 759006           64                 MOV     P1, #06H
0090 11AD             65                 ACALL   DELAY
0092 759003           66                 MOV     P1, #03H
0095 11AD             67                 ACALL   DELAY
0097 22               68                 RET
                      69     
0098                  70     BASE_RIGHT:
0098 759003           71                 MOV     P1, #03H
009B 11AD             72                 ACALL   DELAY
009D 759006           73                 MOV     P1, #06H
00A0 11AD             74                 ACALL   DELAY
00A2 75900C           75                 MOV     P1, #0CH
00A5 11AD             76                 ACALL   DELAY
00A7 759009           77                 MOV     P1, #09H
00AA 11AD             78                 ACALL   DELAY
00AC 22               79                 RET
                      80     
                      81     ; -- Basic Delay Routine -----------------------------------------
00AD                  82     DELAY:
00AD 79C8             83                 MOV     R1, #200
00AF 78FA             84     D1:         MOV     R0, #250
00B1 D8FE             85     D2:         DJNZ    R0, D2
00B3 D9FA             86                 DJNZ    R1, D1
00B5 22               87                 RET
                      88     
                      89                 END
A51 MACRO ASSEMBLER  ARM                                                                  08/02/2025 14:00:18 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

BASE_LEFT. . . . .  C ADDR   0083H   A   
BASE_RIGHT . . . .  C ADDR   0098H   A   
C_E. . . . . . . .  C ADDR   0053H   A   
C_G. . . . . . . .  C ADDR   0067H   A   
C_R. . . . . . . .  C ADDR   004DH   A   
C_W. . . . . . . .  C ADDR   005DH   A   
D1 . . . . . . . .  C ADDR   00AFH   A   
D2 . . . . . . . .  C ADDR   00B1H   A   
DELAY. . . . . . .  C ADDR   00ADH   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
INIT . . . . . . .  C ADDR   0026H   A   
MAIN . . . . . . .  C ADDR   0041H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
RET_END. . . . . .  C ADDR   0070H   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SERIAL_ISR . . . .  C ADDR   0043H   A   
SERVO_PULSE. . . .  C ADDR   0071H   A   
SP . . . . . . . .  D ADDR   0081H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
WAIT_T0. . . . . .  C ADDR   007BH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
